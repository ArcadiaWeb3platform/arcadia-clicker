<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Arcadia AI Clicker</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      height: 100%;
      background: radial-gradient(circle, #1e3c72, #2a5298);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: space-between;
      font-family: 'Press Start 2P', cursive;
    }

    #header, #footer {
      position: absolute;
      display: flex;
      justify-content: space-between;
      width: 100%;
      padding: 10px 20px;
      box-sizing: border-box;
      color: white;
      z-index: 10;
    }

    #header {
      top: 0;
      justify-content: space-around;
    }

    #footer {
      bottom: 20px;
      justify-content: center;
      gap: 20px;
    }

    .icon {
      width: 50px;
      height: 50px;
      cursor: pointer;
      transition: transform 0.2s ease;
    }

    .icon:hover {
      transform: scale(1.2);
    }

    #game-container, #ai-container {
      display: none;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100%;
      width: 100%;
    }

    #game-container.active, #ai-container.active {
      display: flex;
    }

    .title {
      font-size: 16px;
      color: white;
      margin-bottom: 10px;
    }

    #ai-status {
      font-size: 14px;
      color: white;
      margin-bottom: 20px;
    }

    #upgrade-button {
      background: #44ccff;
      color: white;
      border: none;
      border-radius: 10px;
      padding: 10px 20px;
      font-size: 14px;
      cursor: pointer;
      transition: background 0.3s ease;
    }

    #upgrade-button:hover {
      background: #55ddff;
    }

    canvas {
      display: block;
    }
  </style>
</head>
<body>
  <div id="header">
    <div>ArcadiaCoin (ARCC): <span id="coins">0</span></div>
    <div>AI Level: <span id="ai-level">1</span></div>
  </div>

  <div id="game-container" class="active">
    <canvas id="game-canvas"></canvas>
  </div>

  <div id="ai-container">
    <div class="title">AI Upgrade Panel</div>
    <div id="ai-status">Current AI Level: <span id="ai-current-level">1</span></div>
    <button id="upgrade-button">Upgrade AI (100 ARCC)</button>
  </div>

  <div id="footer">
    <img id="game-button" class="icon" src="https://img.icons8.com/ios-filled/50/ffffff/home.png" alt="Game">
    <img id="ai-button" class="icon" src="https://img.icons8.com/ios-filled/50/ffffff/artificial-intelligence.png" alt="AI">
    <img class="icon" src="https://img.icons8.com/ios-filled/50/ffffff/settings.png" alt="Settings">
    <img class="icon" src="https://img.icons8.com/ios-filled/50/ffffff/help.png" alt="Help">
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script>
    let scene, camera, renderer, coin;
    let clickCount = 0;
    let aiLevel = 1;

    const coinsSpan = document.getElementById("coins");
    const aiLevelSpan = document.getElementById("ai-level");
    const aiCurrentLevelSpan = document.getElementById("ai-current-level");
    const gameContainer = document.getElementById("game-container");
    const aiContainer = document.getElementById("ai-container");
    const upgradeButton = document.getElementById("upgrade-button");

    function init() {
      // Сцена и камера
      scene = new THREE.Scene();
      camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
      camera.position.z = 5;

      // Рендерер
      renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
      renderer.setSize(window.innerWidth, window.innerHeight);
      gameContainer.appendChild(renderer.domElement);

      // Монета
      const textureLoader = new THREE.TextureLoader();
      const coinGeometry = new THREE.CircleGeometry(1, 64);
      const coinMaterial = new THREE.MeshBasicMaterial({
        map: textureLoader.load("https://i.ibb.co/6ggc9pF/garold-1000-x-1000.png"),
        transparent: true,
      });
      coin = new THREE.Mesh(coinGeometry, coinMaterial);
      scene.add(coin);

      // Обработчик кликов
      renderer.domElement.addEventListener("pointerdown", onCoinPointerDown);

      animate();
    }

    function onCoinPointerDown() {
      clickCount++;
      coinsSpan.textContent = clickCount;

      // Эффект
      pulseCoin();
    }

    function pulseCoin() {
      const initialScale = coin.scale.clone();
      const targetScale = initialScale.clone().multiplyScalar(1.2);

      let t = 0;
      const duration = 300;
      const steps = 30;
      const interval = duration / steps;

      const scaleIncrement = targetScale.clone().sub(initialScale).divideScalar(steps);

      const pulseInterval = setInterval(() => {
        if (t < steps / 2) {
          coin.scale.add(scaleIncrement);
        } else if (t < steps) {
          coin.scale.sub(scaleIncrement);
        } else {
          clearInterval(pulseInterval);
          coin.scale.copy(initialScale);
        }
        t++;
      }, interval);
    }

    function upgradeAI() {
      if (clickCount >= 100) {
        clickCount -= 100;
        aiLevel++;
        coinsSpan.textContent = clickCount;
        aiLevelSpan.textContent = aiLevel;
        aiCurrentLevelSpan.textContent = aiLevel;
      } else {
        alert("Not enough ARCC to upgrade AI!");
      }
    }

    // Переключение экранов
    document.getElementById("ai-button").addEventListener("click", () => {
      gameContainer.classList.remove("active");
      aiContainer.classList.add("active");
    });

    document.getElementById("game-button").addEventListener("click", () => {
      aiContainer.classList.remove("active");
      gameContainer.classList.add("active");
    });

    // Улучшение ИИ
    upgradeButton.addEventListener("click", upgradeAI);

    function animate() {
      requestAnimationFrame(animate);
      renderer.render(scene, camera);
    }

    init();
  </script>
</body>
</html>
